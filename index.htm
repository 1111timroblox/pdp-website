<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Prominence District Police</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'&gt;&lt;text y='.9em' font-size='90'&gt;ðŸš”&lt;/text&gt;&lt;/svg&gt;">
  <link rel="manifest" href="manifest.json">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --main-yellow:#e0ba51;
      --sec-yellow:#f4e1ae;
      --third-yellow:#b39a60;
      --black1:#2b2b2b;
      --black2:#1e1e1e;
      --white:#ffffff;
      --gray:#f4f4f4;
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Open Sans',sans-serif;background:var(--gray);color:var(--black1);line-height:1.6;}
    a{color:inherit;text-decoration:none;}
    header{background:var(--black2);position:sticky;top:0;z-index:1000;}
    .head-inner{max-width:1200px;margin:auto;display:flex;align-items:center;justify-content:space-between;padding:1rem;}
    .logo{font-size:1.5rem;font-weight:700;color:var(--main-yellow);}
    nav ul{list-style:none;display:flex;gap:1.5rem;}
    nav a{color:var(--white);font-weight:400;transition:color .2s;}
    nav a:hover{color:var(--main-yellow);}
    main{min-height:80vh;}
    section{display:none;animation:fade .4s;}
    @keyframes fade{from{opacity:0}to{opacity:1}}
    section.active{display:block}
    .hero{background:linear-gradient(rgba(30,30,30,.85),rgba(30,30,30,.85)),url('data:image/svg+xml,&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"&gt;&lt;rect fill="%23e0ba51" width="1200" height="600"/&gt;&lt;text x="50%" y="50%" font-size="120" fill="%232b2b2b" text-anchor="middle" dominant-baseline="middle"&gt;ZONE ONE&lt;/text&gt;&lt;/svg&gt;') center/cover no-repeat;height:60vh;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--white);}
    .hero-content h1{font-size:3rem;margin-bottom:.5rem;color:var(--main-yellow);}
    .btn{background:var(--main-yellow);color:var(--black1);padding:.75rem 1.5rem;border-radius:4px;font-weight:700;display:inline-block;transition:background .2s;}
    .btn:hover{background:var(--sec-yellow);}
    .grid{display:grid;gap:1.2rem;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));}
    .card{background:var(--white);border-left:5px solid var(--main-yellow);padding:1.5rem;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.08);}
    .card h3{margin-bottom:.5rem;color:var(--black2);}
    .login-box{max-width:400px;margin:4rem auto;padding:2rem;background:var(--white);border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.1);}
    .login-box h2{margin-bottom:1rem;text-align:center;color:var(--black2);}
    .login-box input{width:100%;padding:.75rem;margin-bottom:1rem;border:1px solid var(--third-yellow);border-radius:4px;}
    .login-box input:focus{outline:none;border-color:var(--main-yellow);}
    .login-box button{width:100%;padding:.75rem;background:var(--main-yellow);color:var(--black1);border:none;border-radius:4px;font-weight:700;cursor:pointer;}
    .login-box button:hover{background:var(--sec-yellow);}
    #roster-table{width:100%;border-collapse:collapse;margin-top:1rem;}
    #roster-table th,#roster-table td{padding:.75rem;border:1px solid var(--third-yellow);}
    #roster-table th{background:var(--main-yellow);color:var(--black1);}
    #roster-table tr:nth-child(even){background:var(--sec-yellow);}
    footer{background:var(--black2);color:var(--white);text-align:center;padding:2rem 1rem;margin-top:4rem;}
    @media(max-width:768px){
      nav ul{flex-direction:column;background:var(--black2);position:absolute;top:60px;left:0;width:100%;max-height:0;overflow:hidden;transition:max-height .3s;}
      nav ul.open{max-height:400px;padding:.5rem 0;}
      #menu-toggle{display:block;font-size:1.8rem;color:var(--white);cursor:pointer;}
    }
  </style>
</head>
<body>
  <header>
    <div class="head-inner">
      <a class="logo" href="#" onclick="show('home')">PDP</a>
      <span id="menu-toggle" onclick="toggleNav()">&#9776;</span>
      <nav>
        <ul id="nav-ul">
          <li><a href="#" onclick="show('home')">Home</a></li>
          <li><a href="#" onclick="show('roster')">Roster</a></li>
          <li><a href="#" onclick="show('login')">Login</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- HOME -->
    <section id="home" class="active">
      <div class="hero">
        <div class="hero-content">
          <h1>Prominence District Police</h1>
          <p>Professional patrol. Community trust. State of Firestone pride.</p>
          <a class="btn" href="#" onclick="show('roster')">View Full Roster</a>
        </div>
      </div>
      <div class="grid container" style="max-width:1200px;margin:-50px auto 0;padding:0 1rem;position:relative;z-index:3;">
        <div class="card"><h3>Live Roster</h3><p>Updated daily from the official personnel database.</p></div>
        <div class="card"><h3>Secure Login</h3><p>Members-only area with full database access.</p></div>
        <div class="card"><h3>Zone Policy</h3><p>Primary, Secondary & Tertiary patrol priorities.</p></div>
        <div class="card"><h3>Open Sans Font</h3><p>Clean, modern typography across the site.</p></div>
      </div>
    </section>

    <!-- LOGIN -->
    <section id="login">
      <div class="login-box">
        <h2>Member Login</h2>
        <label>Username</label>
        <input type="text" id="user" placeholder="1111tim">
        <label>Password</label>
        <input type="password" id="pass" placeholder="Admin 1">
        <button onclick="doLogin()">Sign In</button>
        <p id="msg" style="color:var(--red);margin-top:1rem;text-align:center;"></p>
      </div>
    </section>

    <!-- ROSTER -->
    <section id="roster">
      <div class="container" style="max-width:1200px;margin:auto;padding:2rem 1rem;">
        <h2 style="color:var(--main-yellow);margin-bottom:1rem;">Personnel Roster <span id="count"></span></h2>
        <table id="roster-table">
          <thead>
            <tr><th>Callsign</th><th>Username</th><th>Rank</th><th>Primary Duties</th><th>Join Date</th></tr>
          </thead>
          <tbody id="roster-body"><!-- filled by JS --></tbody>
        </table>
      </div>
    </section>
  </main>

  <footer>
    <small>&copy; <span id="yr"></span> Prominence District Police â€“ State of Firestone</small>
  </footer>

  <script>
    /* ---------- router ---------- */
    function show(id){
      document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      window.scrollTo({top:0,behavior:'smooth'});
      if(window.innerWidth<=768) toggleNav('close');
    }
    function toggleNav(action){
      const ul=document.getElementById('nav-ul');
      if(action==='close') ul.classList.remove('open');
      else ul.classList.toggle('open');
    }
    /* ---------- login ---------- */
    function doLogin(){
      const u=document.getElementById('user').value.trim();
      const p=document.getElementById('pass').value.trim();
      const msg=document.getElementById('msg');
      if(u==='1111tim' && p==='Admin 1'){
        msg.style.color='green';
        msg.textContent='âœ… Access granted â€“ redirecting to roster...';
        setTimeout(()=>show('roster'),800);
      }else{
        msg.style.color='var(--red)';
        msg.textContent='âŒ Invalid credentials';
      }
    }
    /* ---------- load roster ---------- */
    const SHEET_URL='https://docs.google.com/spreadsheets/d/1Ptb7cZ_-am8wwh8hpR2MzDMjZeluM3QKkwvrrQuzQ8E/gviz/tq?tqx=out:json&gid=2050433459';
    fetch(SHEET_URL)
      .then(r=>r.text())
      .then(txt=>{
        const json=JSON.parse(txt.substr(47).slice(0,-2));
        const rows=json.table.rows;
        const tbody=document.getElementById('roster-body');
        let html='';
        rows.forEach(r=>{
          const c=r.c;
          if(!c) return;
          const callsign=c[0]?c[0].v:'';
          const user=c[1]?c[1].v:'';
          const rank=c[2]?c[2].v:'';
          const duty=c[3]?c[3].v:'';
          const join=c[5]?c[5].v:'';
          if(!user) return;
          html+=`<tr><td>${callsign}</td><td>${user}</td><td>${rank}</td><td>${duty}</td><td>${join}</td></tr>`;
        });
        tbody.innerHTML=html;
        document.getElementById('count').textContent='('+rows.length+')';
      })
      .catch(err=>{
        document.getElementById('roster-body').innerHTML='<tr><td colspan="5">Loading error â€“ please refresh.</td></tr>';
        console.error(err);
      });
    /* ---------- footer year ---------- */
    document.getElementById('yr').textContent=new Date().getFullYear();
  </script>
</body>
</html>